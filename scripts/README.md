# BIND Migration Remediation - README

## Overview
This directory contains automated scripts to fix issues identified during the Ubuntu â†’ Windows 11 migration.

## Quick Start

### Automated Fix (Recommended)
Run the master script to fix all issues automatically:
```powershell
cd e:\BIND
.\scripts\remediate_migration.ps1
```

### Migration Agent Mode
For automated execution without prompts:
```powershell
.\scripts\remediate_migration.ps1 -AutoApprove
```

## Available Scripts

### `remediate_migration.ps1` â­ Main Script
Master orchestration script that runs all fixes in sequence.

**Options:**
- `-AutoApprove` - Run without user prompts (migration agent mode)
- `-SkipVerification` - Skip final verification tests

**Usage:**
```powershell
# Interactive mode
.\scripts\remediate_migration.ps1

# Automated mode (for migration agent)
.\scripts\remediate_migration.ps1 -AutoApprove

# Quick fix without verification
.\scripts\remediate_migration.ps1 -AutoApprove -SkipVerification
```

### `fix_venv.ps1` ðŸ”§ Virtual Environment Fix
Rebuilds the Python virtual environment with correct Windows paths.

**What it does:**
1. Backs up existing venv to `venv.backup/`
2. Creates fresh venv with Windows-compatible paths
3. Installs all dependencies from `requirements.txt`
4. Verifies installation success

**Usage:**
```powershell
.\scripts\fix_venv.ps1
```

### `verify_project.ps1` âœ… Verification Tests
Runs comprehensive tests to ensure BIND is functional.

**Tests:**
- Virtual environment exists and works
- Python version check
- All required dependencies installed
- Core modules import successfully
- CLI responds correctly
- Critical files present

**Usage:**
```powershell
.\scripts\verify_project.ps1
```

### `git_cleanup_option_a.ps1` ðŸ“ Git Cleanup
Adds `old_brain/` to `.gitignore` (recommended for agent artifacts).

**Usage:**
```powershell
.\scripts\git_cleanup_option_a.ps1
```

## Issue Reference

These scripts address the following issues from `bind_migration_issues.json`:

| Issue ID | Severity | Description | Script |
|----------|----------|-------------|--------|
| **VENV_001** | Critical | Hardcoded Linux paths in venv | `fix_venv.ps1` |
| **GIT_001** | Moderate | Uncommitted changes | `git_cleanup_option_a.ps1` |
| - | Info | Project verification | `verify_project.ps1` |

## Execution Order

1. **Virtual Environment Fix** (Critical)
   - Must be done first
   - Project cannot run without this

2. **Git Cleanup** (Recommended)
   - Can be done anytime
   - Prevents confusion about project state

3. **Verification** (Recommended)
   - Confirms everything works
   - Catches any remaining issues

## For Migration Agents

If you're an automated migration agent processing this workspace:

1. Read `bind_migration_issues.json` for structured issue data
2. Execute: `.\scripts\remediate_migration.ps1 -AutoApprove`
3. Check exit code: 0 = success, 1 = failure
4. Parse output for detailed results
5. Report back to user with verification status

## Manual Alternative

If scripts don't work for any reason:

```powershell
# Fix 1: Rebuild venv manually
cd e:\BIND
Remove-Item -Recurse -Force venv
python -m venv venv
.\venv\Scripts\Activate.ps1
pip install -r requirements.txt

# Fix 2: Clean git
echo "old_brain/" >> .gitignore
git add .gitignore

# Fix 3: Verify
python -c "from src.core.scraper import BindScraper; print('OK')"
python -m src.bind --help
```

## Support

If remediation fails:
1. Check error messages in script output
2. Review `migration_review.md` for detailed analysis
3. Consult `bind_migration_issues.json` for issue details
4. Try manual alternatives above

## Files Generated

| File | Purpose |
|------|---------|
| `venv.backup/` | Backup of old virtual environment |
| Updated `.gitignore` | Excludes `old_brain/` from git |

## Safety

All scripts include:
- âœ… Backup creation before destructive operations
- âœ… Error handling and rollback on failure
- âœ… Verification steps
- âœ… Colored output for easy reading
- âœ… Exit codes for automation compatibility

---

**Generated by**: Antigravity Migration Review System  
**Date**: 2026-01-08  
**Migration**: Ubuntu â†’ Windows 11
